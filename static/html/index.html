<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dawesome</title>
    <link rel="icon" href="/static/img/dawesome-favicon.svg">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200..1000&display=swap" rel="stylesheet">
    <script src="/static/js/oscillator.js"></script>
    <script src="/static/js/script.js"></script>
</head>
<body>
    <h1>
        dawesome
    </h1>
    <h5>
        super simple synthesizer
    </h5>
    
    <!-- <button onclick="requestInput()">record</button>
    <button onclick="beep(220)">play</button> -->

    <section>
        <h3>input</h3>

        <div id="input" class="control" title="Select the source for note input">
            <button id="qwerty" title="QWERTY keyboard input">
                <img class="icon" src="static/img/keyboard-regular.svg"/>
            </button>
            <!-- <button id="screen" title="Touch screen input">
                <img class="icon" src="static/img/mobile-screen-regular.svg"/>
            </button>
            <button id="midi" title="MIDI input">
                <img class="icon" src="static/img/piano-keyboard-sharp-light.svg"/>
            </button>
            <button id="mic" title="Microphone input">
                <img class="icon" src="static/img/microphone-solid.svg"/>
            </button> -->
        </div>

        <h4 id="playing">Press any key to start playing</h4>
    </section>

    <section>
        <h3>oscillator</h3>

        <div class="control octave" title="Octave for the oscillator">
            <label for="octave">Octave<label>
            <button id="octaveDown">
                <img class="icon" src="static/img/arrow-down-solid.svg"/>
            </button>
            <span id="octave">4</span>
            <button id="octaveUp">
                <img class="icon" src="static/img/arrow-up-solid.svg"/>
            </button>
        </div>

        <div class="control waveform">
            <fieldset id="wave" title="Waveform for the oscillator">
                <label for="wave">wave</label>
                <button id="sine" title="Sine wave">
                    <img class="icon" src="static/img/wave-sine-solid.svg"/>
                </button>
                <button id="triangle" title="Triangle wave">
                    <img class="icon" src="static/img/wave-triangle-solid.svg"/>
                </button>
                <button id="square" title="Square wave">
                    <img class="icon" src="static/img/wave-square-solid.svg"/>
                </button>
                <button id="sawtooth" title="Sawtooth wave">
                    <img class="icon" src="static/img/wave-pulse-solid.svg"/>
                </button>
            </fieldset>
        </div>

        <div class="control envelope">
            <label for="attack">A</label>
            <input id="attack" type="range"
                min="0" max="127" step="1"
                title="Attack: time (ms) to first reach max volume (0=instant)"
            >
            <span id="attackDisplay"></span><span>ms</span>
        </div>
        <div class="control envelope">
            <label for="decay">D</label>
            <input id="decay" type="range"
                min="0" max="127" step="1"
                title="Decay: time (ms) to fall from max volume to sustain volume"
            >
            <span id="decayDisplay"></span><span>ms</span>
        </div>
        <div class="control envelope">
            <label for="sustain">S</label>
            <input id="sustain" type="range"
                min="0" max="100" step="1"
                title="Sustain: volume level while key held (percent of max)"
            >
            <span id="sustainDisplay"></span><span>%</span>
        </div>
        <div class="control envelope">
            <label for="release">R</label>
            <input id="release" type="range"
                min="0" max="127" step="1"
                title="Release: time (ms) to reach silence after key release (0=instant)"
            >
            <span id="releaseDisplay"></span><span>ms</span>
        </div>
    </section>

    <section>
        <h3>output</h3>
        <div class="control ">
            <label for="volume">Vol</label>
            <input id="volume" type="range"
                min="0" max="100" value="50"
                oninput="volumeValue.innerText = this.value"
                title="Main volume for the synthesizer (% of max)"
            >
            <span id="volumeValue">50</span><span>%</span>
        </div>
    </section>

    <details>
        <summary>help</summary>
            <p>
                Play the keyboard like it's a bass guitar with strings EADG represented by keys z, a, q, and 1.
            </p>
            <table>
                <tr>
                    <th>key</th>
                    <th>function</th>
                </tr>
                <tr>
                    <td><code>Esc</code></td>
                    <td>Stop all notes (begins release)</td>
                </tr>
                <tr>
                    <td><code>+</code></td>
                    <td>octave up</td>
                </tr>
                <tr>
                    <td><code>-</code></td>
                    <td>octave down</td>
                </tr>
                <tr>
                    <td><code>Shift</code></td>
                    <td>octave up (temporary)</td>
                </tr>
                <tr>
                    <td><code>CapsLock</code></td>
                    <td>octave up (one octave while active)</td>
                </tr>
            </table>
    </details>

    <details>
        <summary>settings</summary>
            <ul class="toggle_box">
                <li>
                    <span>Flats</span>
                    <label for="flats" class="setting" title="Name notes with flats (b) instead of sharps (#)">
                        <input id="flats" type="checkbox">
                        <span class="slider round"></span>
                    </label>
                </li>
                <li>
                    <span>Debug</span>
                    <label for="debug" class="setting" title="Print verbose debug info to console">
                        <input id="debug" type="checkbox">
                        <span class="slider round"></span>
                    </label>
                </li>
                <li>
                    <span>Profile</span>
                    <label for="profile" class="setting" title="Print performance profile to console">
                        <input id="profile" type="checkbox">
                        <span class="slider round"></span>
                    </label>
                </li>
            </ul>
    </details>

    <footer>
        <a href="https://github.com/grackleclub/dawesome">
            <img class="icon" src="/static/img/grackle.svg" alt="proud grackle silouette"/>
        </a>
    </footer>

</body>
</html>